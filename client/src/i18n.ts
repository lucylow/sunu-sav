// Simple i18n implementation
const translations = {
  en: {
    // Common
    'app.title': 'SunuSàv',
    'app.ok': 'OK',
    'app.cancel': 'Cancel',
    'app.save': 'Save',
    'app.delete': 'Delete',
    'app.edit': 'Edit',
    'app.create': 'Create',
    'app.loading': 'Loading...',
    'app.error': 'Error',
    'app.success': 'Success',
    
    // Groups
    'groups.title': 'Groups',
    'groups.create': 'Create Group',
    'groups.join': 'Join Group',
    'groups.leave': 'Leave Group',
    'groups.members': 'Members',
    'groups.contribution': 'Contribution',
    'groups.frequency': 'Frequency',
    'groups.status': 'Status',
    'groups.active': 'Active',
    'groups.completed': 'Completed',
    'groups.pending': 'Pending',
    
    // Payments
    'payment.title': 'Payment',
    'payment.amount': 'Amount',
    'payment.invoice': 'Invoice',
    'payment.status': 'Status',
    'payment.pending': 'Pending',
    'payment.completed': 'Completed',
    'payment.failed': 'Failed',
    
    // Wallet
    'wallet.balance': 'Balance',
    'wallet.send': 'Send',
    'wallet.receive': 'Receive',
    'wallet.history': 'History',
    
    // AI Features
    'aiAssistant': 'AI Assistant',
    'aiInsights': 'AI Insights',
    'creditScore': 'Credit Score',
    'aiPoweredFeatures': 'AI-Powered Features',
    'aiFeaturesDescription': 'Experience the future of financial services with AI-powered features designed for Senegal',
    'supportingLanguages': 'Supporting Languages',
    'overview': 'Overview',
    'insights': 'Insights',
    'chatAssistant': 'Chat Assistant',
    'marketInsights': 'Market Insights',
    'savingsProjection': 'Savings Projection',
    'inflationTracker': 'Inflation Tracker',
    'askMeAnything': 'Ask me anything about your tontine or Bitcoin savings',
    'typeYourMessage': 'Type your message...',
    'listening': 'Listening',
    'aiCreditScoring': 'AI Credit Scoring',
    'aiCreditScoringDescription': 'Get credit scores based on tontine participation and community trust',
    'aiFraudDetection': 'AI Fraud Detection',
    'aiFraudDetectionDescription': 'Real-time fraud detection for Lightning payments',
    'aiChatAssistant': 'AI Chat Assistant',
    'aiChatAssistantDescription': 'Multilingual assistant for financial guidance',
    'aiInsightsDescription': 'Market insights and savings projections powered by AI',
    'aiRoutingOptimization': 'AI Routing Optimization',
    'aiRoutingOptimizationDescription': 'Optimize Lightning payment routes for better performance',
    'aiSmartNotifications': 'AI Smart Notifications',
    'aiSmartNotificationsDescription': 'Intelligent reminders based on user behavior',
    'active': 'Active',
    'comingSoon': 'Coming Soon',
    'benefits': 'Benefits',
    'creditScoringBenefit1': 'Access to microloans without traditional credit history',
    'creditScoringBenefit2': 'Better tontine group placement based on reliability',
    'creditScoringBenefit3': 'Automated Lightning payment approvals',
    'fraudDetectionBenefit1': '95% reduction in fraudulent transactions',
    'fraudDetectionBenefit2': 'Real-time monitoring of payment patterns',
    'fraudDetectionBenefit3': 'Automated blocking of suspicious activities',
    'chatAssistantBenefit1': 'Voice interaction in Wolof, French, and English',
    'chatAssistantBenefit2': 'Contextual financial advice for tontines',
    'chatAssistantBenefit3': 'Offline-capable responses for poor connectivity',
    'insightsBenefit1': 'Bitcoin vs CFA inflation projections',
    'insightsBenefit2': 'Personalized savings recommendations',
    'insightsBenefit3': 'Market trend analysis and risk assessment',
    'routingBenefit1': 'Faster Lightning payment processing',
    'routingBenefit2': 'Lower transaction fees through optimal routing',
    'routingBenefit3': 'Improved success rates for payments',
    'notificationsBenefit1': 'Behavioral AI learns your payment patterns',
    'notificationsBenefit2': 'Adaptive reminders in local languages',
    'notificationsBenefit3': 'SMS and WhatsApp integration',
    'aiImpactMetrics': 'AI Impact Metrics',
    'fraudReduction': 'Fraud Reduction',
    'accuracyRate': 'Accuracy Rate',
    'fasterProcessing': 'Faster Processing',
    'availability': 'Availability',
    'technicalArchitecture': 'Technical Architecture',
    'microservices': 'Microservices',
    'microservicesDescription': 'Scalable AI services running independently',
    'machineLearning': 'Machine Learning',
    'machineLearningDescription': 'Advanced ML models for financial insights',
    'realTimeProcessing': 'Real-time Processing',
    'realTimeProcessingDescription': 'Instant AI responses for better UX',
    'loginRequiredForCreditScore': 'Please log in to view your credit score',
    'currentMarketConditions': 'Current Market Conditions',
    'cfaInflation': 'CFA Inflation',
    'btcTrend': 'Bitcoin Trend',
    'aiRecommendation': 'AI Recommendation',
    'riskAssessment': 'Risk Assessment',
    'marketConfidence': 'Market Confidence',
    'savingsProjectionCalculator': 'Savings Projection Calculator',
    'weeklyAmount': 'Weekly Amount',
    'durationMonths': 'Duration (Months)',
    'currentBtcPrice': 'Current BTC Price',
    'calculating': 'Calculating...',
    'calculateProjection': 'Calculate Projection',
    'projectionResults': 'Projection Results',
    'totalInvestment': 'Total Investment',
    'projectedValue': 'Projected Value',
    'projectedGain': 'Projected Gain',
    'confidenceScore': 'Confidence Score',
    'volatilityRisk': 'Volatility Risk',
    'aiRecommendations': 'AI Recommendations',
    'inflationHistory': 'Inflation History',
    'last30Days': 'Last 30 Days',
    'averageInflation': 'Average Inflation',
    'inflationImpact': 'Inflation Impact',
    'inflationImpactDescription': 'CFA inflation affects your purchasing power over time',
    'failedToLoadMarketData': 'Failed to load market data',
    'failedToLoadInflationData': 'Failed to load inflation data',
    'excellent': 'Excellent',
    'veryGood': 'Very Good',
    'good': 'Good',
    'fair': 'Fair',
    'poor': 'Poor',
    'veryPoor': 'Very Poor',
    'low': 'Low',
    'medium': 'Medium',
    'high': 'High',
    'veryHigh': 'Very High',
    'outOf': 'out of',
    'reliabilityProbability': 'Reliability Probability',
    'modelVersion': 'Model Version',
    'scoreFactors': 'Score Factors',
    'tontineContributions': 'Tontine Contributions',
    'punctualityRate': 'Punctuality Rate',
    'communityReputation': 'Community Reputation',
    'lastUpdated': 'Last Updated',
    'retry': 'Retry',
    'failedToLoadCreditScore': 'Failed to load credit score',
    'multilingual': 'Multilingual',
    'multilingualDescription': 'Support for Wolof, French, and English',
    'voiceSupport': 'Voice Support',
    'voiceSupportDescription': 'Voice-to-text and text-to-speech capabilities',
    'contextual': 'Contextual',
    'contextualDescription': 'Tontine-specific financial advice',
  },
  fr: {
    // Common
    'app.title': 'SunuSàv',
    'app.ok': 'OK',
    'app.cancel': 'Annuler',
    'app.save': 'Enregistrer',
    'app.delete': 'Supprimer',
    'app.edit': 'Modifier',
    'app.create': 'Créer',
    'app.loading': 'Chargement...',
    'app.error': 'Erreur',
    'app.success': 'Succès',
    
    // Groups
    'groups.title': 'Groupes',
    'groups.create': 'Créer un Groupe',
    'groups.join': 'Rejoindre le Groupe',
    'groups.leave': 'Quitter le Groupe',
    'groups.members': 'Membres',
    'groups.contribution': 'Contribution',
    'groups.frequency': 'Fréquence',
    'groups.status': 'Statut',
    'groups.active': 'Actif',
    'groups.completed': 'Terminé',
    'groups.pending': 'En attente',
    
    // Payments
    'payment.title': 'Paiement',
    'payment.amount': 'Montant',
    'payment.invoice': 'Facture',
    'payment.status': 'Statut',
    'payment.pending': 'En attente',
    'payment.completed': 'Terminé',
    'payment.failed': 'Échoué',
    
    // Wallet
    'wallet.balance': 'Solde',
    'wallet.send': 'Envoyer',
    'wallet.receive': 'Recevoir',
    'wallet.history': 'Historique',
    
    // AI Features
    'aiAssistant': 'Assistant IA',
    'aiInsights': 'Insights IA',
    'creditScore': 'Score de Crédit',
    'aiPoweredFeatures': 'Fonctionnalités IA',
    'aiFeaturesDescription': 'Découvrez l\'avenir des services financiers avec des fonctionnalités IA conçues pour le Sénégal',
    'supportingLanguages': 'Langues Supportées',
    'overview': 'Aperçu',
    'insights': 'Insights',
    'chatAssistant': 'Assistant Chat',
    'marketInsights': 'Insights du Marché',
    'savingsProjection': 'Projection d\'Épargne',
    'inflationTracker': 'Suivi de l\'Inflation',
    'askMeAnything': 'Demandez-moi n\'importe quoi sur votre tontine ou vos économies Bitcoin',
    'typeYourMessage': 'Tapez votre message...',
    'listening': 'Écoute',
    'aiCreditScoring': 'Scoring de Crédit IA',
    'aiCreditScoringDescription': 'Obtenez des scores de crédit basés sur la participation aux tontines et la confiance communautaire',
    'aiFraudDetection': 'Détection de Fraude IA',
    'aiFraudDetectionDescription': 'Détection de fraude en temps réel pour les paiements Lightning',
    'aiChatAssistant': 'Assistant Chat IA',
    'aiChatAssistantDescription': 'Assistant multilingue pour les conseils financiers',
    'aiInsightsDescription': 'Insights du marché et projections d\'épargne alimentés par l\'IA',
    'aiRoutingOptimization': 'Optimisation de Routage IA',
    'aiRoutingOptimizationDescription': 'Optimisez les routes de paiement Lightning pour de meilleures performances',
    'aiSmartNotifications': 'Notifications Intelligentes IA',
    'aiSmartNotificationsDescription': 'Rappels intelligents basés sur le comportement utilisateur',
    'active': 'Actif',
    'comingSoon': 'Bientôt Disponible',
    'benefits': 'Avantages',
    'creditScoringBenefit1': 'Accès aux microcrédits sans historique de crédit traditionnel',
    'creditScoringBenefit2': 'Meilleur placement dans les groupes tontine basé sur la fiabilité',
    'creditScoringBenefit3': 'Approbations automatiques de paiements Lightning',
    'fraudDetectionBenefit1': '95% de réduction des transactions frauduleuses',
    'fraudDetectionBenefit2': 'Surveillance en temps réel des modèles de paiement',
    'fraudDetectionBenefit3': 'Blocage automatique des activités suspectes',
    'chatAssistantBenefit1': 'Interaction vocale en Wolof, Français et Anglais',
    'chatAssistantBenefit2': 'Conseils financiers contextuels pour les tontines',
    'chatAssistantBenefit3': 'Réponses fonctionnelles hors ligne pour une connectivité faible',
    'insightsBenefit1': 'Projections Bitcoin vs inflation CFA',
    'insightsBenefit2': 'Recommandations d\'épargne personnalisées',
    'insightsBenefit3': 'Analyse des tendances du marché et évaluation des risques',
    'routingBenefit1': 'Traitement plus rapide des paiements Lightning',
    'routingBenefit2': 'Frais de transaction plus bas grâce au routage optimal',
    'routingBenefit3': 'Taux de succès améliorés pour les paiements',
    'notificationsBenefit1': 'L\'IA comportementale apprend vos modèles de paiement',
    'notificationsBenefit2': 'Rappels adaptatifs dans les langues locales',
    'notificationsBenefit3': 'Intégration SMS et WhatsApp',
    'aiImpactMetrics': 'Métriques d\'Impact IA',
    'fraudReduction': 'Réduction de Fraude',
    'accuracyRate': 'Taux de Précision',
    'fasterProcessing': 'Traitement Plus Rapide',
    'availability': 'Disponibilité',
    'technicalArchitecture': 'Architecture Technique',
    'microservices': 'Microservices',
    'microservicesDescription': 'Services IA évolutifs fonctionnant indépendamment',
    'machineLearning': 'Apprentissage Automatique',
    'machineLearningDescription': 'Modèles ML avancés pour les insights financiers',
    'realTimeProcessing': 'Traitement en Temps Réel',
    'realTimeProcessingDescription': 'Réponses IA instantanées pour une meilleure UX',
    'loginRequiredForCreditScore': 'Veuillez vous connecter pour voir votre score de crédit',
    'currentMarketConditions': 'Conditions du Marché Actuelles',
    'cfaInflation': 'Inflation CFA',
    'btcTrend': 'Tendance Bitcoin',
    'aiRecommendation': 'Recommandation IA',
    'riskAssessment': 'Évaluation des Risques',
    'marketConfidence': 'Confiance du Marché',
    'savingsProjectionCalculator': 'Calculateur de Projection d\'Épargne',
    'weeklyAmount': 'Montant Hebdomadaire',
    'durationMonths': 'Durée (Mois)',
    'currentBtcPrice': 'Prix BTC Actuel',
    'calculating': 'Calcul en cours...',
    'calculateProjection': 'Calculer la Projection',
    'projectionResults': 'Résultats de Projection',
    'totalInvestment': 'Investissement Total',
    'projectedValue': 'Valeur Projetée',
    'projectedGain': 'Gain Projeté',
    'confidenceScore': 'Score de Confiance',
    'volatilityRisk': 'Risque de Volatilité',
    'aiRecommendations': 'Recommandations IA',
    'inflationHistory': 'Historique de l\'Inflation',
    'last30Days': '30 Derniers Jours',
    'averageInflation': 'Inflation Moyenne',
    'inflationImpact': 'Impact de l\'Inflation',
    'inflationImpactDescription': 'L\'inflation CFA affecte votre pouvoir d\'achat au fil du temps',
    'failedToLoadMarketData': 'Échec du chargement des données du marché',
    'failedToLoadInflationData': 'Échec du chargement des données d\'inflation',
    'excellent': 'Excellent',
    'veryGood': 'Très Bon',
    'good': 'Bon',
    'fair': 'Correct',
    'poor': 'Faible',
    'veryPoor': 'Très Faible',
    'low': 'Faible',
    'medium': 'Moyen',
    'high': 'Élevé',
    'veryHigh': 'Très Élevé',
    'outOf': 'sur',
    'reliabilityProbability': 'Probabilité de Fiabilité',
    'modelVersion': 'Version du Modèle',
    'scoreFactors': 'Facteurs de Score',
    'tontineContributions': 'Contributions Tontine',
    'punctualityRate': 'Taux de Ponctualité',
    'communityReputation': 'Réputation Communautaire',
    'lastUpdated': 'Dernière Mise à Jour',
    'retry': 'Réessayer',
    'failedToLoadCreditScore': 'Échec du chargement du score de crédit',
    'multilingual': 'Multilingue',
    'multilingualDescription': 'Support pour Wolof, Français et Anglais',
    'voiceSupport': 'Support Vocal',
    'voiceSupportDescription': 'Capacités de synthèse vocale et reconnaissance vocale',
    'contextual': 'Contextuel',
    'contextualDescription': 'Conseils financiers spécifiques aux tontines',
  }
};

let currentLanguage = 'fr';

export function initI18n() {
  return Promise.resolve();
}

export function setAppLanguage(lang: string) {
  currentLanguage = lang;
  return Promise.resolve();
}

export function getAppLanguage() {
  return currentLanguage;
}

export function t(key: string, options?: Record<string, any>) {
  const currentTranslations = translations[currentLanguage as keyof typeof translations];
  const translation = currentTranslations?.[key as keyof typeof currentTranslations];
  if (!translation) {
    console.warn(`Translation missing for key: ${key}`);
    return key;
  }
  
  if (options) {
    return translation.replace(/\{\{(\w+)\}\}/g, (match: string, key: string) => options[key] || match);
  }
  
  return translation;
}

export function formatNumber(number: number, locale?: string) {
  return new Intl.NumberFormat(locale || currentLanguage).format(number);
}

export function formatDate(date: Date, locale?: string) {
  return new Intl.DateTimeFormat(locale || currentLanguage).format(date);
}
